(this["webpackJsonpevernote-clone"]=this["webpackJsonpevernote-clone"]||[]).push([[0],{139:function(e,t,c){},422:function(e,t,c){"use strict";c.r(t);var n=c(13),a=c(0),s=c(87),r=c.n(s),i=(c(139),c(38)),o=c(5),l=c(1),d=function(){return Object(l.jsx)("nav",{className:"green",children:Object(l.jsxs)("div",{className:"nav",children:[Object(l.jsx)("a",{href:"/",className:"brand-logo left",children:"CRUD"}),Object(l.jsx)("ul",{id:"nav-mobile",className:"right brand",children:Object(l.jsx)(i.c,{to:"/favorites",children:"Favorite Note"})})]})})},j=c(10),b=c(19),u=c(24),O=function(){return Object(l.jsx)("div",{className:"container section",children:Object(l.jsx)("div",{className:"preloader-wrapper center-align big active",children:Object(l.jsxs)("div",{className:"spinner-layer spinner-blue-only",children:[Object(l.jsx)("div",{className:"circle-clipper left",children:Object(l.jsx)("div",{className:"circle"})}),Object(l.jsx)("div",{className:"gap-patch",children:Object(l.jsx)("div",{className:"circle"})}),Object(l.jsx)("div",{className:"circle-clipper right",children:Object(l.jsx)("div",{className:"circle"})})]})})})},h=c(88),x=c.n(h),f=function(e){var t=e.note,c=Object(j.b)(),n=t.favorite?"favorite":"favorite_border";return Object(l.jsxs)("div",{className:"note  white ",children:[Object(l.jsxs)("div",{className:"right-align",children:[Object(l.jsx)("i",{className:"material-icons red-text",style:{cursor:"pointer"},onClick:function(){c(function(e){return function(t,c,n){var a=(0,n.getFirebase)().firestore(),s=!e.favorite;a.collection("notes").doc(e.id).update({favorite:s}).then((function(){return console.log("Note state changed")})).catch((function(e){return console.log(e)}))}}(t))},children:n}),Object(l.jsx)("i",{className:"material-icons",style:{cursor:"pointer"},onClick:function(){c(function(e){return function(t,c,n){(0,n.getFirebase)().firestore().collection("notes").doc(e.id).delete().then((function(){return console.log("note successfully")})).catch((function(e){return console.log(e)}))}}(t))},children:"delete"})]}),Object(l.jsx)(i.b,{to:"/note/"+t.id,children:Object(l.jsxs)("h5",{className:"black-text",children:[" ",null===t||void 0===t?void 0:t.title]})}),Object(l.jsx)("p",{className:"truncate",children:null===t||void 0===t?void 0:t.content}),Object(l.jsx)("p",{className:"grey-text",children:x()(t.createdAt.toDate()).fromNow()}),Object(l.jsx)("div",{className:"right-align",children:Object(l.jsx)(i.b,{to:"/edit/".concat(t.id,"}"),children:Object(l.jsx)("i",{className:"material-icons black-text",style:{cursor:"pointer"},onClick:function(){c({type:"EDIT_NOTE",payload:t})},children:"edit"})})})]})},m=function(e){var t=e.notes,c=Object(a.useState)(!0),n=Object(u.a)(c,2),s=n[0],r=n[1];return Object(a.useEffect)((function(){t&&r(!1)}),[t]),Object(l.jsx)("div",{className:"noteslist",children:s?Object(l.jsx)(O,{}):t.map((function(e){return Object(l.jsx)(f,{note:e},e.id)}))})},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(a.useState)(e),c=Object(u.a)(t,2),n=c[0],s=c[1],r=function(){s(e)},i={value:n,onChange:function(e){s(e.target.value)}};return[n,i,r]},p=function(){var e=v(""),t=Object(u.a)(e,3),c=t[0],a=t[1],s=t[2],r=v(""),i=Object(u.a)(r,3),o=i[0],d=i[1],b=i[2],O=Object(j.b)();return Object(l.jsx)("div",{className:"section",children:Object(l.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),O((t={title:c,content:o},function(e,c,a){(0,a.getFirebase)().firestore().collection("notes").add(Object(n.a)(Object(n.a)({},t),{},{favorite:!1,createdAt:new Date})).then((function(){return console.log("noted successfully add")})).catch((function(e){return console.log(e)}))})),s(),b()},className:"white",children:[Object(l.jsx)("h5",{className:"grey-text text-darken-3",children:"New Note"}),Object(l.jsxs)("div",{className:"input-field ",children:[Object(l.jsx)("input",Object(n.a)({id:"first_name",type:"text",className:"validate"},a)),Object(l.jsx)("label",{htmlFor:"note_title",children:"Note Title"})]}),Object(l.jsxs)("div",{className:"input-field",children:[Object(l.jsx)("textarea",Object(n.a)({id:"textarea1",className:"materialize-textarea"},d)),Object(l.jsx)("label",{htmlFor:"textarea1",children:"Note Content"})]}),Object(l.jsx)("button",{className:"btn green",children:"Add"})]})})},N=function(){Object(b.useFirestoreConnect)([{collection:"notes",orderBy:"createdAt"}]);var e=Object(j.c)((function(e){return e.firestore.ordered.notes}));return Object(l.jsx)("div",{className:"container ",children:Object(l.jsxs)("div",{className:"row center-align",children:[Object(l.jsx)("div",{className:"col s7",children:Object(l.jsx)(p,{})}),e&&Object(l.jsx)("div",{className:"col s5",children:Object(l.jsx)(m,{notes:e})})]})})},g=function(){Object(b.useFirestoreConnect)([{collection:"notes",where:["favorite","==",!0],orderBy:["createdAt","desc"],storeAs:"favnotes"}]);var e=Object(j.c)((function(e){return e.firestore.data.favnotes})),t=[];for(var c in e)t.push(Object(n.a)({id:c},e[c]));return Object(l.jsx)("div",{children:Object(l.jsx)(m,{notes:t})})},y=function(e){var t=e.match.params.id;Object(b.useFirestoreConnect)([{collection:"notes",doc:t}]);var c=Object(j.c)((function(e){var c=e.firestore.data;return c.notes&&c.notes[t]}));return Object(l.jsx)("div",{className:"container section",children:c?Object(l.jsxs)("div",{className:"card z-depth-8",children:[Object(l.jsxs)("div",{className:"card-content",children:[Object(l.jsx)("span",{className:"card-title",children:c.title}),Object(l.jsx)("p",{children:c.content})]}),Object(l.jsx)("div",{className:"card-action grey lighten-4 grey-text",children:Object(l.jsx)("div",{children:x()(c.createdAt.toDate()).calendar()})})]}):Object(l.jsx)(O,{})})},F=function(e){var t=Object(o.f)(),c=Object(j.b)(),a=Object(j.c)((function(e){return e.note})),s=v(a.title),r=Object(u.a)(s,3),i=r[0],d=r[1],b=r[2],O=v(a.content),h=Object(u.a)(O,3),x=h[0],f=h[1],m=h[2];return Object(l.jsx)("div",{className:"section",children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(function(e){return function(t,c,n){(0,n.getFirebase)().firestore().collection("notes").doc(e.id).update({title:e.title,content:e.content}).then((function(){return console.log("Note successfully edited")})).catch((function(e){return console.log(e)}))}}({id:a.id,title:i,content:x})),t.push("/"),b(),m()},className:"white",children:[Object(l.jsx)("h5",{className:"grey-text text-darken-3",children:"Edit Note"}),Object(l.jsxs)("div",{className:"input-field ",children:[Object(l.jsx)("input",Object(n.a)({id:"first_name",type:"text",className:"validate"},d)),Object(l.jsx)("label",{htmlFor:"note_title",className:"active",children:"Note Title:"})]}),Object(l.jsxs)("div",{className:"input-field",children:[Object(l.jsx)("textarea",Object(n.a)({id:"textarea1",className:"materialize-textarea"},f)),Object(l.jsx)("label",{htmlFor:"textarea1",className:"active",children:"Note Content:"})]}),Object(l.jsx)("button",{className:"btn green",children:"Edit"})]})})};var w=function(){return Object(l.jsxs)(i.a,{children:[Object(l.jsx)(d,{}),Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{path:"/",exact:!0,component:N}),Object(l.jsx)(o.a,{path:"/favorites",component:g}),Object(l.jsx)(o.a,{path:"/note/:id",component:y}),Object(l.jsx)(o.a,{path:"/edit/:id",component:F})]})]})},A=c(28),I=c(213),k=c(49),C={note_to_edit:{}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDIT_NOTE":return console.log("note reducer",t.payload),t.payload;default:return e}},D=Object(A.c)({note:E,firebase:b.firebaseReducer,firestore:k.firestoreReducer}),T=c(137),_=c.n(T),R=_.a.initializeApp({apiKey:"AIzaSyBqimwK2JATcbnTIVIRdXXapZ8wbTMWmpE",authDomain:"evernote-clone-6879d.firebaseapp.com",projectId:"evernote-clone-6879d",storageBucket:"evernote-clone-6879d.appspot.com",messagingSenderId:"975191138119",appId:"1:975191138119:web:7a5e139d66478a602f3662"}),S=(_.a.firestore(),c(138)),z=c.n(S),B=Object(A.e)(D,Object(A.d)(Object(A.a)(I.a.withExtraArgument({getFirebase:b.getFirebase,getFirestore:k.getFirestore})),Object(k.reduxFirestore)(R))),J={firebase:z.a,config:z.a,dispatch:B.dispatch,createFirestoreInstance:k.createFirestoreInstance};r.a.render(Object(l.jsx)(j.a,{store:B,children:Object(l.jsx)(b.ReactReduxFirebaseProvider,Object(n.a)(Object(n.a)({},J),{},{children:Object(l.jsx)(w,{})}))}),document.getElementById("root"))}},[[422,1,2]]]);
//# sourceMappingURL=main.7ecf7b28.chunk.js.map